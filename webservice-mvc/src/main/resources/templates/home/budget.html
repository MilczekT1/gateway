<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Budget</title>
</head>
<body>
<center>
    <p>[[${#httpServletRequest.remoteUser}]]!</p>
    <form th:action="@{/logout}" method="post">
        <input type="submit" value="Sign Out"/>
    </form>

    <p>Menu:</p>
    <a th:href="@{/home/family}">Zarządzanie rodziną</a> <br/>
    <a th:href="@{/home/budget}">Budżet domowy</a> <br/>
    <br/> <hr/>

    <p>Jars</p>
    <br/>
    <span th:if="${jarList}">
        <table>
            <tr>
                <td/>
                <td>Jar</td>
                <td>Current amount</td>
                <td>Capacity</td>
                <td>Status</td>
            <tr/>
            <th:block th:each="jar : ${jarList}">
                <tr>
                    <td>
                        <form th:action="@{/home/budget/remove-jar}" method="POST">
                            <input type="hidden" th:name="jarId" th:value="${jar.id}"/>
                            <button type="submit" th:text="#{budget.removeJarButton}"></button>
                        </form>
                    </td>
                    <td th:text="${jar.jarName}"></td>
                    <td th:text="${jar.currentAmount}"></td>
                    <td th:text="${jar.capacity}"></td>
                    <td th:text="${jar.status}"></td>
                    <td>
                        <form th:action="@{/home/budget/change-current-amount}" method="POST">
                            <input type="hidden" th:name="jarId" th:value="${jar.id}"/>
                            <input type="text" th:name="amount" value="amount"/>
                            <button type="submit" th:text="#{budget.changeAmountInJarButton}"></button>
                        </form>
                    </td>
                </tr>
            </th:block>
        </table>
    </span>
    <br/>
    <form th:action="@{/home/budget/create-jar}" method="GET">
        <!--<input type="hidden" th:name="jarList" th:value="${jarList}"/>-->
        <button type="submit" th:text="#{budget.newJarButton}"></button>
    </form>
    <span th:if="${maxJarsAmountExceeded}" th:text="#{budget.maxJarsAmountExceeded}"></span>
    <br/> <hr/>
</center>
</body>
</html>